(()=>{"use strict";var e;null===(e=document.getElementById("extract"))||void 0===e||e.addEventListener("click",(()=>{chrome.runtime.sendMessage({action:"inject_content_script"},(e=>{if("success"===(null==e?void 0:e.status))console.log("Content script injected successfully"),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{var t;(null===(t=e[0])||void 0===t?void 0:t.id)&&chrome.tabs.sendMessage(e[0].id,{action:"extract_data"},(e=>{if(null==e?void 0:e.data){console.log("Data received in popup:",e.data);const t=document.getElementById("output");t&&(t.textContent=JSON.stringify(e.data,null,2))}else if(null==e?void 0:e.error){console.error("Error from content script:",e.error);const t=document.getElementById("output");t&&(t.textContent=`Error: ${e.error}`)}else console.error("No data received from content script.")}))}));else{console.error("Failed to inject content script:",null==e?void 0:e.error);const t=document.getElementById("output");t&&(t.textContent=`Injection error: ${(null==e?void 0:e.error)||"Unknown error"}`)}}))}))})();